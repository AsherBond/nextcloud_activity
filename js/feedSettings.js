/*! For license information please see feedSettings.js.LICENSE.txt */
$((function(){OCA.Activity=OCA.Activity||{},OCA.Activity.FeedSettings={urlInput:null,enableCheckbox:null,init:function(){this.urlInput=$("#rssurl"),this.enableCheckbox=$("#enable_rss"),this.enableCheckbox.change(_.bind(this._toggle,this))},_toggle:function(t){var e=this;$.ajax({url:OC.generateUrl("/apps/activity/settings/feed"),type:"post",data:{enable:t.target.checked},success:function(i){t.target.checked?(e.urlInput.find("input").val(i.data.rsslink),e.urlInput.removeClass("hidden")):(e.urlInput.addClass("hidden"),e.urlInput.find("input").val(i.data.rsslink))}})}};var e=new Clipboard("#rssurl .icon-clippy");e.on("success",(function(e){$input=$(e.trigger),OC.Notification.show(t("core","Copied!"),{type:"success"})})),e.on("error",(function(e){$input=$(e.trigger);var i;i=/iPhone|iPad/i.test(navigator.userAgent)?t("core","Not supported!"):/Mac/i.test(navigator.userAgent)?t("core","Press âŒ˜-C to copy."):t("core","Press Ctrl-C to copy."),OC.Notification.show(i,{type:"error"})})),OCA.Activity.FeedSettings.init()}));